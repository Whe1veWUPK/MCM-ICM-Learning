# 算法学习

## 评价类

### 主成分分析（PCA）（太复杂的部分没写）

1. 基本思想和方法

如果用$x_1, x_2, ..., x_p$表示p门课程，$c_1, c_2, ..., c_p$表示各门课程的权重，那么加权之和为 $s = c_1x_1+c_2x_2+ ... + c_px_p$
我们希望选择适当的权重能更好地区分学生的成绩。每个学生都对应一个这样的综合成绩，记为$s_1, s_2, ..., s_n$，n为学生人数。如果这些值很分散，就表明区分得很好，即是说，需要寻找这样的加权，能使$s_1, s_2, ..., s_p$尽可能的分散，下面是它的统计定义。
设$X_1, X_2, ..., X_p$表示以$x_1, x_2, ..., x_p$为样本观测值的随机变量，如果能找到$c_1, c_2, ..., c_p$，使得
$$
Var(c_1X_1+c_2X_2+ ... + c_pX_p)
$$
的值达到最大，则由于方差反映了数据差异的程度，也就表明抓住了这p个变量的最大变异。当然上式必须加上某种限制，通常规定
$$
c_1^2+c_2^2+...+c_p^2 = 1
$$
在此约束下，求式子的最优解。这个解是p-维空间的一个单位向量，它代表一个“方向”，就是常说的主成分方向。
一个主成分不足以代表原来的p个变量，因此需要寻找第二个乃至第三个等，第二个主成分不应再包含第一个主成分信息，统计上的描述就是让两个主成分的协方差为0，几何上就是两个主成分的方向正交。具体书写较为复杂，如有需要再写。

2. 特征值因子筛选

设有p个指标变量$x_1, x_2, ..., x_p$，它再第i次试验中的取值为
$$
a_{i1}, a_{i2}, \dots a_{ip}, i = 1,2,\dots,n,
$$
可写成矩阵形式：
$$
A = \begin{bmatrix}
  a_{11} & a_{12} & \dots & a_{1p} \\
  a_{21} & a_{22} & \dots & a_{2p} \\
  \dots & \dots & \dots & \dots \\
  a_{n1} & a_{n2} & \dots & a_{np} \\
\end{bmatrix}
$$
$A$称为设计阵。采用矩阵$A^TA$的特征向量可以解决问题。剩下的问题仅仅是将$A^TA$的特征值由大到小的次序排列之后，如何筛选这个特征值。一个实用的方法是删去$\lambda_{r+1},\lambda_{r+2},...,\lambda_{p}$后，这些删去的特征值之和小于整个特征值之和的15%，换句话说，余下的特征值所占的比重将超过85%，当然这不是一种严格的规定。

3. 主成分回归分析

最小二乘？？

### 层次分析（AHP）

层次分析法（AHP）是一种用于多标准决策的方法，通常用于评估和选择不同方案或决策的优劣。AHP通过将问题分解为多个层次，然后使用专家判断或数据分析来确定各层次之间的权重，最终得出最佳决策。

以下是AHP的基本步骤：

1. 定义问题： 确定要解决的问题，并明确不同的方案或决策。

2. 建立层次结构： 将问题分解为多个层次，包括目标、准则和方案。层次结构有助于组织问题并理清各层次之间的关系。

3. 构建判断矩阵： 对于每个相邻的层次，通过专家判断或数据分析构建判断矩阵，用于表示各个元素之间的相对重要性。
  对于每对元素，专家根据其相对重要性进行评估。构建判断矩阵 A，其中 a<sub>ij</sub> 表示元素 i 相对于元素 j 的重要性。判断矩阵的大小与元素的数量相同。

  例子： 如果有3个元素 A、B、C，专家判断 A 相对于 B 的重要性为 3，表示为 a<sub>AB</sub> = 3。

4. 计算权重： 使用AHP方法计算每个层次的权重，通过对判断矩阵进行特征值分解和归一化处理。
  通过对判断矩阵进行特征值分解和归一化，计算每个层次的权重。
  **步骤：**
  - 计算判断矩阵的特征向量（即最大特征值对应的特征向量）。
  - 归一化特征向量，得到权重向量。
  例子： 如果有3个层次 A、B、C，得到它们的权重向量 W = [w<sub>A</sub>, w<sub>B</sub>, w<sub>C</sub>]。

5. 一致性检验： 检验判断矩阵的一致性，确保专家判断的一致性水平。
  一致性检验用于评估专家判断的一致性水平。引入一致性指标 CI 和随机一致性指标 RI，计算一致性比例 CR。如果 CR 超过一定阈值，说明判断矩阵的一致性较差。
  公式：
  - CI = (λ<sub>max</sub> - n) / (n - 1)，其中 λ<sub>max</sub> 是最大特征值，n 是判断矩阵的阶数。
  - CR = CI / RI
  例子： 如果 CR 小于设定的阈值，判断矩阵通过一致性检验。

6. 综合评估： 将各层次的权重综合起来，得出最终的评估结果。

7. 敏感性分析： 进行敏感性分析，评估不同权重对最终结果的影响，以确定方案的稳健性。

主观性很强，适用于没有数据的时候（把难以完全定量的问题做出决策的模型和方法）。
选指标，正确吗？合适吗？

运用层次分析法构造系统模型时，大体可以分为以下
四个步骤:
(1)建立层次结构模型，
(2)构造判断(成对比较)矩阵
(3)层次单排序及其一致性检验
(4)层次总排序及其一致性检验


### 因子分析

通过研究众多变量之间的内部依赖关系，探求观测数据中的基本结构，并用少数几个假想变量来表示其基本的数据结构。这几个假想变量能够反应原来众多变量的主要信息。原始的变量是可以观测的显在变量，而假想变量是额观测的潜在变量，称为因子。
因子分析可看成主成分分析的推广。降维方式..

例子：为了了解学生的知识和能力，对学生进行了抽样命题考试，考题包括的面很广，但总体来说可归结为学生的语文水平、数学推导、艺术修养、历史知识和生活知识5个方面，我们吧每一个方面称为一个（公共）因子，显然每个学生的成绩均可由这5个因子来确定，即可设想第i个学生考试的分数$X_i$能用这五个公共因子$F_1,...,F_5$的线性组合表示出来，即
$$
X_i = \mu_i + \alpha_{i1}F_1 + \dots + \alpha_{i5}F_5 + \varepsilon_i, i = 1,2,\dots, N.
$$
$\alpha_i1$ 称为因子载荷，表示第i个学生在这五个因子方面的能力；

模型复杂，还是自己看吧>_<

### 数据包络分析（DEA）

- 相对有效评价问题
  例：某市教育局需要对六所重点中学进行评价，其相应的指标如表1所示。表1中的生均投入和非低收入家庭百分比是输入指标，生均写作得分和生均科技得分是输出指标。
  解析：不能只看输出指标，要结合投入看实际的效率

- $C^2R$模型
  设有m个评价对象，每个评价对象都有n种投入和s种产出，设$a_{ij}(i=1,2,...,m, j=1,2,...,n)$表示第i个评价对象的第j种投入量，$a_{ik}(i=1,2,...,m, k=1,2,...,s)$表示第i个评价对象的第k种产出量，$u_j(j=1,2,...,n)$表示第j种投入的权值，$v_k(k=1,2,...,s)$表示第k种产出的权值。
  向量$\alpha_i \beta_i (i=1,2,...,m)$分别表示评价对象i的输入和输出向量，u和v分别表示输入、输出权值向量，则$\alpha_i = [a_{i1},a_{i2},...,a_{in}]^T,\beta_i = [b_{i1},b_{i2},...,b_{is}]^T,u = [u_1,u_2,...,u_n]^T,v = [v_1,v_2,...,v_s]^T$。
  定义评价对象i的效率评价指数为
  $$
  h_i=(\beta^T_i v)/(\alpha^T_i u), i=1,2,\dots,m.
  $$
  评价对象$i_0$效率的数学模型为...
  通过Charnes-Cooper变换可以将模型变换为等价的线性规划问题。。。

- $C^2R$模型的求解
  
  ```matlab
  clc,clear,m=2;n=6;
  d=load('data14_4.txt');
  a=d([1,2],:)'; b=d([3,4],:)';
  prob=optimproblem('','max');
  u = optimvar('u',m,'LowerBound',0);
  v = optimvar('v',m,'LowerBound',0);
  prob.Constraints.con1 = a*u >= b*v; %列向量
  for j=1:n
    fprintf();
    prob.Objective=b(j,:) *v;
    prob.Constraints.con2 = a(j,:) * u ==1;
    [sol, fval]=solve(prob)
    su=sol.u,sv=sol.v                 %显示最优解
  end
  ```

### 模糊综合评价

- 一级模糊综合评判在人事考核中的作用
  在对企业员工进行考核时，由于考核的目的、考核对象、考核范围等的不同，考核的具体内容也会有所差别。有的考核涉及的指标较少，有些考核又包含了非常全面且丰富的内容，需要涉及很多指标。鉴于这种情况，企业可以根据需要，在指标个数较少的考核中，运用一级模糊综合评判，而在问题较为复杂、指标较多时，运用多层次模糊综合评判，以提高精度。
  主要步骤：
  1. 确定因素集：多个指标评价员工，记为 $U = \{u_1,u_2,\dots,u_n\}$
  2. 确定评语集：对指标的评价，例如好、较好、中、差等，记为 $V = \{v_1,v_2,\dots,v_m\}$
  3. 确定各因素的权重。一般情况下，因素集中的各因素在综合评价中所起的作用是不相同的，综合评价结果不仅与各因素的评价有关，而且在很大程度上还依赖于各因素对综合评价所起的作用，这就需要一个各因素之间的权重分配，它是$U$上的一个模糊向量，记为$\bm{A}=[a_1,a_2,...,a_n]$，始终ai为第i个因素的权重，sum ai = 1
  4. 确定模糊综合判断矩阵。对指标$u_i$来说，对各个评语的隶属度为$V$上的模糊子集。对指标$u_i$的评判记为$\bm{R}_i = [r_{i1},r_{i2},...,r_{im}]$，各指标的综合模糊判断矩阵为
  $$
  \bm{R} = \begin{bmatrix}
    r_{11} & r_{12} & \dots & r_{1m} \\
    r_{21} & r_{22} & \dots & r_{2m} \\
    \dots & \dots & \dots & \dots \\
    r_{n1} & r_{n2} & \dots & r_{nm} \\
  \end{bmatrix},
  $$它是一个从$U$到$V$的模糊关系矩阵
  5. 综合评判。如果有一个从$U$到$V$的模糊关系$\bm{R}=(r_{ij})_{n \times m}$，那么利用$\bm{R}$就可以得到一个模糊变换$T_R:F(U) -> F(V)$，由此变换，就可得到综合评判结果$\bm{B} = \bm{A} \cdot \bm{R}$
  综合后的评判可看作是$V$上的模糊向量，记为$\bm{B}=[b_1,b_2,...,b_n]$

- 多层次模糊综合评判都在人事考核中的应用
  一级的问题：1 因素过多，它们的权数分配难以确定；2 即使确定了权分配，由于需要满足归一化条件，每个因素的权值都小。
  二级模糊综合评判：(简要描述)：将因素集分解成s个子因素集，对每个子因素集做出综合评判，再将每个子因素集看作一个元素，得到新的因素集，这个集合具有评判矩阵，最终得到二级评判向量。

### 秩和比综合评价（RSR）

- 原理及步骤
  1. 原理：在一个n行m列的矩阵中，通过秩转换，获得无量纲统计量RSR；以RSR值对评价对象的优劣直接排序或分档排序，从而对评价对象做出综合评价。
  2. 样本秩的概念：设$x_1,x_2,...,x_n$是从一元总体抽取的容量为n的样本，其从小到大顺序统计量为$x_{(1)},x_{(2)},...,x_{(n)}$。若$x_i=x_{(k)}$，则称k是$x_i$在样本中的秩，记作$R_i$，对每一个$i=1,2,...,n$，称$R_i$是第i个秩统计量。$R_1, R_2,...,R_n$总称为秩统计量。
  3. 步骤：（1）编秩：将n个评价对象的m个评价指标排列成n行m列的原始数据表。编出各个指标各评价对象的秩，其中效益型指标从小到大编秩，成本型指标从大到小编秩，同一指标数据相同者编平均秩。得到的秩矩阵记为$R = (R_{ij})_{n \times m}$（2）计算秩和比（RSR），根据公式$RSR_i=\frac{1}{mn} \sum_{j=1}^m R_{ij}, i=1,2,...,n$计算。当各评价指标的权重不同时，应计算加权秩和比（WRSR），其计算公式为$WRSR_i=\frac{1}{n} \sum_{j=1}^m w_jR_{ij}, i=1,2,...,n$，其中$w_j$为第j个评价指标的权重，$\sum_{j=1}^m w_j = 1$。（3）分档排序：根据$RSR_i$或$WRSR_i(i=1,2,...,n)$的值，对评价对象进行分档排序，$RSR_i$或$WRSR_i$的值越大，其评价效果越好。
